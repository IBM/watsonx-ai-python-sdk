<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Helpers" href="fm_helpers.html" /><link rel="prev" title="LangChain" href="fm_extensions_langchain.html" />

    <!-- Generated with Sphinx 8.0.2 and Furo 2024.08.06 -->
        <title>RAG - IBM watsonx.ai</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/mystyle2.css?v=c40128c6" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --font-stack: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, Segoe UI, Arial, sans-serif;
  --font-stack--monospace: 'IBM Plex Mono', 'SFMono-Regular', Menlo, Consolas, Lucida Console, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">IBM watsonx.ai</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">IBM watsonx.ai</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="setup.html">Setup</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Setup</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="setup_cloud.html">IBM watsonx.ai for IBM Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup_cpd.html">IBM watsonx.ai software</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="api.html">API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="base.html">Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_api.html">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="federated_learning.html">Federated Learning</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dataconnection.html">Data Connections</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Data Connections</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="autoai_working_with_dataconnection.html">Working with DataConnection</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataconnection_modules.html">DataConnection Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="iterabledatasets_modules.html">IterableDatasets Modules</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="autoai.html">AutoAI</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of AutoAI</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="autoai_working_with_class_and_optimizer.html">Working with AutoAI class and optimizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoai_working_with_class_and_rag_optimizer.html">Working with AutoAI RAG class and rag_optimizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoai_experiment.html">AutoAI experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoai_deployment_modules.html">Deployment Modules for AutoAI models</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="foundation_models.html">Foundation Models</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Foundation Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="fm_embeddings.html">Embeddings</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="fm_models.html">Models</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="fm_model.html">Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="fm_model_inference.html">ModelInference</a></li>
<li class="toctree-l4"><a class="reference internal" href="fm_deployments.html"><code class="docutils literal notranslate"><span class="pre">ModelInference</span></code> for Deployments</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="prompt_tuner.html">Prompt Tuning</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Prompt Tuning</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="pt_working_with_class_and_prompt_tuner.html">Working with TuneExperiment and PromptTuner</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Working with TuneExperiment and PromptTuner</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="pt_tune_experiment_run.html">Tune Experiment run</a></li>
<li class="toctree-l5"><a class="reference internal" href="pt_model_inference.html">Tuned Model Inference</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="tune_experiment.html">Tune Experiment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="prompt_template_manager.html">Prompt Template Manager</a></li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="fm_extensions.html">Extensions</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Extensions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="fm_extensions_langchain.html">LangChain</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">RAG</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fm_helpers.html">Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="fm_custom_models.html">Custom models</a></li>
<li class="toctree-l3"><a class="reference internal" href="fm_text_extraction.html">Text Extractions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration.html">Migration from <code class="docutils literal notranslate"><span class="pre">ibm_watson_machine_learning</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="migration_v1.html">V1 Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

</div></div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/fm_extensions_rag.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="rag">
<h1>RAG<a class="headerlink" href="#rag" title="Link to this heading">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Added in 1.1.x release</p>
</div>
<section id="chunkers">
<h2>Chunkers<a class="headerlink" href="#chunkers" title="Link to this heading">¶</a></h2>
<section id="langchainchunker">
<h3>LangChainChunker<a class="headerlink" href="#langchainchunker" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.</span></span><span class="sig-name descname"><span class="pre">LangChainChunker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'recursive'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gpt2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/langchain_chunker.html#LangChainChunker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker" title="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseChunker</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code>]</p>
<p>Wrapper for LangChain TextSplitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>Literal</em><em>[</em><em>&quot;recursive&quot;</em><em>, </em><em>&quot;character&quot;</em><em>, </em><em>&quot;token&quot;</em><em>]</em><em>, </em><em>optional</em>) – describes type of the TextSplitter as the main instance performing chunking, defaults to “recursive”</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum size of a single chunk that is returned, defaults to 4000</p></li>
<li><p><strong>chunk_overlap</strong> (<em>int</em><em>, </em><em>optional</em>) – overlap in characters between chunks, defaults to 200</p></li>
<li><p><strong>encoding_name</strong> (<em>str</em><em>, </em><em>optional</em>) – encoding used in the TokenTextSplitter, defaults to “gpt2”</p></li>
<li><p><strong>model_name</strong> (<em>str</em><em>, </em><em>optional</em>) – model used in the TokenTextSplitter</p></li>
</ul>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.extensions.rag.chunker</span> <span class="kn">import</span> <span class="n">LangChainChunker</span>

<span class="n">text_splitter</span> <span class="o">=</span> <span class="n">LangChainChunker</span><span class="p">(</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;recursive&quot;</span><span class="p">,</span>
    <span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">200</span>
<span class="p">)</span>

<span class="n">chunks_ids</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">document</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data_loader</span><span class="p">):</span>
    <span class="n">chunks</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="o">.</span><span class="n">split_documents</span><span class="p">([</span><span class="n">document</span><span class="p">])</span>
    <span class="n">chunks_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">chunks</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">300</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/langchain_chunker.html#LangChainChunker.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Create instance from the dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.split_documents">
<span class="sig-name descname"><span class="pre">split_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/langchain_chunker.html#LangChainChunker.split_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.split_documents" title="Link to this definition">¶</a></dt>
<dd><p>Split series of documents into smaller chunks based on the provided
chunker settings. Each chunk has metadata that includes the document_id,
sequence_number and start_index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>documents</strong> (<em>Sequence</em><em>[</em><em>langchain_core.documents.Document</em><em>]</em>) – sequence of elements that contain context in the format of text</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of documents splitter into smaller ones, having less content</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[langchain_core.documents.Document]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.supported_methods">
<span class="sig-name descname"><span class="pre">supported_methods</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('recursive',</span> <span class="pre">'character',</span> <span class="pre">'token')</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.supported_methods" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/langchain_chunker.html#LangChainChunker.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Return dict that can be used to recreate instance of the LangChainChunker.</p>
</dd></dl>

</dd></dl>

</section>
<section id="basechunker">
<h3>BaseChunker<a class="headerlink" href="#basechunker" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.</span></span><span class="sig-name descname"><span class="pre">BaseChunker</span></span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/base_chunker.html#BaseChunker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">ChunkType</span></code>]</p>
<p>Class responsible for handling operations of splitting documents
within the RAG application.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.from_dict">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/base_chunker.html#BaseChunker.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Create instance from the dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.split_documents">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/base_chunker.html#BaseChunker.split_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.split_documents" title="Link to this definition">¶</a></dt>
<dd><p>Split series of documents into smaller parts based on
the provided chunker settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>documents</strong> – sequence of elements that contain context in the format of text</p>
</dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><p>Sequence[ChunkType]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of documents splitter into smaller ones, having less content</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[ChunkType]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.to_dict">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/chunker/base_chunker.html#BaseChunker.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Return dict that can be used to recreate instance of the BaseChunker.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="retrievers">
<h2>Retrievers<a class="headerlink" href="#retrievers" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.</span></span><span class="sig-name descname"><span class="pre">Retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">RetrievalMethod.SIMPLE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/retriever.html#Retriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever" title="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.base_retriever.BaseRetriever"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRetriever</span></code></a></p>
<p>Retriever class that handles retrieval operation for RAG implementation.
Returns the <cite>number_of_chunks</cite> document segments using provided <cite>method</cite> based on relevant query in a <code class="docutils literal notranslate"><span class="pre">retrieve</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><em>BaseVectorStore</em></a>) – vector store to use for the retrieval</p></li>
<li><p><strong>method</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod" title="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod"><em>RetrievalMethod</em></a><em>, </em><em>optional</em>) – default retrieval method to use when calling <cite>retrieve</cite>, defaults to RetrievalMethod.SIMPLE</p></li>
<li><p><strong>number_of_chunks</strong> (<em>int</em><em>, </em><em>optional</em>) – number of expected document chunks to be returned, defaults to 5</p></li>
</ul>
</dd>
</dl>
<p>You can create a repeatable retrieval and return the three nearest documents by using a simple proximity search. To do this,
create a <cite>VectorStore</cite> and then define a <cite>Retriever</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ibm_watsonx_ai</span> <span class="kn">import</span> <span class="n">APIClient</span>
<span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.extensions.rag</span> <span class="kn">import</span> <span class="n">VectorStore</span>
<span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.extensions.rag</span> <span class="kn">import</span> <span class="n">Retriever</span><span class="p">,</span> <span class="n">RetrievalMethod</span>
<span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.embeddings</span> <span class="kn">import</span> <span class="n">SentenceTransformerEmbeddings</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">APIClient</span><span class="p">(</span><span class="n">credentials</span><span class="p">)</span>

<span class="n">vector_store</span> <span class="o">=</span> <span class="n">VectorStore</span><span class="p">(</span>
        <span class="n">api_client</span><span class="p">,</span>
        <span class="n">connection_id</span><span class="o">=</span><span class="s1">&#39;***&#39;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;index_name&#39;</span><span class="p">:</span> <span class="s1">&#39;my_test_index&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">embeddings</span><span class="o">=</span><span class="n">SentenceTransformerEmbeddings</span><span class="p">(</span><span class="s1">&#39;sentence-transformers/all-MiniLM-L6-v2&#39;</span><span class="p">)</span>
    <span class="p">)</span>

<span class="n">retriever</span> <span class="o">=</span> <span class="n">Retriever</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">RetrievalMethod</span><span class="o">.</span><span class="n">SIMPLE</span><span class="p">,</span> <span class="n">number_of_chunks</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s2">&quot;What is IBM known for?&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.from_vector_store">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_vector_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/retriever.html#Retriever.from_vector_store"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.from_vector_store" title="Link to this definition">¶</a></dt>
<dd><p>Deserialize this <code class="docutils literal notranslate"><span class="pre">Retriever</span></code> into concrete one using arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><em>BaseVectorStore</em></a>) – vector store used to create a Retriever</p></li>
<li><p><strong>init_parameters</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – parameters to initialize retriever with</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>concrete Retriever or None if data is incorrect</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever" title="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever">BaseRetriever</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.retrieve">
<span class="sig-name descname"><span class="pre">retrieve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/retriever.html#Retriever.retrieve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.retrieve" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve elements from the VectorStore by using the provided <cite>query</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<em>str</em>) – text query to be used for searching</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of retrieved LangChain documents</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[langchain_core.documents.Document]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/retriever.html#Retriever.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Serializes this Retriever <code class="docutils literal notranslate"><span class="pre">init_parameters</span></code> so that this Retriever can be reconstructed by <code class="docutils literal notranslate"><span class="pre">from_vector_store</span></code> class method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>serialized <code class="docutils literal notranslate"><span class="pre">init_parameters</span></code></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.</span></span><span class="sig-name descname"><span class="pre">RetrievalMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/retriever.html#RetrievalMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod.SIMPLE">
<span class="sig-name descname"><span class="pre">SIMPLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'simple'</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod.SIMPLE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod.WINDOW">
<span class="sig-name descname"><span class="pre">WINDOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'window'</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod.WINDOW" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.</span></span><span class="sig-name descname"><span class="pre">BaseRetriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/base_retriever.html#BaseRetriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract class for all retriever handlers for the chosen vector store.
Returns some document chunks in RAG pipeline using concrete <code class="docutils literal notranslate"><span class="pre">retrieve</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vector_store</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><em>BaseVectorStore</em></a>) – vector store used in document retrieval</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.from_vector_store">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_vector_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/base_retriever.html#BaseRetriever.from_vector_store"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.from_vector_store" title="Link to this definition">¶</a></dt>
<dd><p>Deserialize this <code class="docutils literal notranslate"><span class="pre">Retriever</span></code> into concrete one using arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector_store</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><em>BaseVectorStore</em></a>) – vector store used to create a Retriever</p></li>
<li><p><strong>init_parameters</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – parameters to initialize retriever with</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>concrete Retriever or None if data is incorrect</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever" title="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever">BaseRetriever</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.retrieve">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">retrieve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/base_retriever.html#BaseRetriever.retrieve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.retrieve" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve elements from the VectorStore using the provided <cite>query</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<em>str</em>) – text query to be used for searching</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of retrieved LangChain documents</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[langchain_core.documents.Document]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/retriever/base_retriever.html#BaseRetriever.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Serializes this Retriever <code class="docutils literal notranslate"><span class="pre">init_parameters</span></code> so that this Retriever can be reconstructed by <code class="docutils literal notranslate"><span class="pre">from_vector_store</span></code> class method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>serialized <code class="docutils literal notranslate"><span class="pre">init_parameters</span></code></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="vector-stores">
<h2>Vector Stores<a class="headerlink" href="#vector-stores" title="Link to this heading">¶</a></h2>
<section id="vectorstore">
<h3>VectorStore<a class="headerlink" href="#vectorstore" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.</span></span><span class="sig-name descname"><span class="pre">VectorStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datasource_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">langchain_vector_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseVectorStore</span></code></a></p>
<p>Universal vector store client for a RAG pattern.</p>
<p>Instantiates the vector store connection in the Watson Machine Learning environment and handles necessary operations.
The parameters given by the keyword arguments are used to instantiate the vector store client in their
particular constructor. Those parameters might be parsed differently.</p>
<p>For details, refer to VectorStoreConnector <code class="docutils literal notranslate"><span class="pre">get_...</span></code> methods.</p>
<p>Can utilize the custom embedding function. This function can be provided in the constructor or by the <code class="docutils literal notranslate"><span class="pre">set_embeddings</span></code> method.
For available embeddings, refer to the <code class="docutils literal notranslate"><span class="pre">ibm_watsonx_ai.foundation_models.embeddings</span></code> module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api_client</strong> (<a class="reference internal" href="base.html#client.APIClient" title="client.APIClient"><em>APIClient</em></a><em>, </em><em>optional</em>) – WatsonX API client required if connecting by connection_id, defaults to None</p></li>
<li><p><strong>connection_id</strong> (<em>str</em><em>, </em><em>optional</em>) – connection asset ID, defaults to None</p></li>
<li><p><strong>embeddings</strong> (<a class="reference internal" href="fm_embeddings.html#ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings" title="ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings"><em>BaseEmbeddings</em></a><em>, </em><em>optional</em>) – default embeddings to be used, defaults to None</p></li>
<li><p><strong>index_name</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the vector database index, defaults to None</p></li>
<li><p><strong>datasource_type</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType"><em>VectorStoreDataSourceType</em></a><em>, </em><em>str</em><em>, </em><em>optional</em>) – data source type to use when <code class="docutils literal notranslate"><span class="pre">connection_id</span></code> is not provided, keyword arguments will be used to establish connection, defaults to None</p></li>
<li><p><strong>distance_metric</strong> (<em>Literal</em><em>[</em><em>&quot;euclidean&quot;</em><em>, </em><em>&quot;cosine&quot;</em><em>]</em><em>, </em><em>optional</em>) – metric used for determining vector distance, defaults to None</p></li>
<li><p><strong>langchain_vector_store</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore"><em>VectorStore</em></a><em>, </em><em>optional</em>) – use LangChain vector store, defaults to None</p></li>
</ul>
</dd>
</dl>
<p><strong>Example</strong></p>
<p>To connect, provide the connection asset ID.
You can use custom embeddings to add and search documents.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ibm_watsonx_ai</span> <span class="kn">import</span> <span class="n">APIClient</span>
<span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.extensions.rag</span> <span class="kn">import</span> <span class="n">VectorStore</span>
<span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.embeddings</span> <span class="kn">import</span> <span class="n">SentenceTransformerEmbeddings</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">APIClient</span><span class="p">(</span><span class="n">credentials</span><span class="p">)</span>

 <span class="n">embedding</span> <span class="o">=</span> <span class="n">Embeddings</span><span class="p">(</span>
         <span class="n">model_id</span><span class="o">=</span><span class="n">EmbeddingTypes</span><span class="o">.</span><span class="n">IBM_SLATE_30M_ENG</span><span class="p">,</span>
         <span class="n">api_client</span><span class="o">=</span><span class="n">api_client</span>
         <span class="p">)</span>

<span class="n">vector_store</span> <span class="o">=</span> <span class="n">VectorStore</span><span class="p">(</span>
        <span class="n">api_client</span><span class="p">,</span>
        <span class="n">connection_id</span><span class="o">=</span><span class="s1">&#39;***&#39;</span><span class="p">,</span>
        <span class="n">index_name</span><span class="o">=</span><span class="s1">&#39;my_test_index&#39;</span><span class="p">,</span>
        <span class="n">embeddings</span><span class="o">=</span><span class="n">embedding</span>
    <span class="p">)</span>

<span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">([</span>
    <span class="p">{</span><span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;document one content&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">:{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span><span class="s1">&#39;ibm.com&#39;</span><span class="p">}}</span>
    <span class="p">{</span><span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;document two content&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">:{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span><span class="s1">&#39;ibm.com&#39;</span><span class="p">}}</span>
<span class="p">])</span>

<span class="n">vector_store</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Optionally, like in LangChain, it is possible to use a cloud ID and API key parameters to connect to Elastic Cloud.
The keyword arguments can be used as direct params to LangChain’s <code class="docutils literal notranslate"><span class="pre">ElasticsearchStore</span></code> constructor.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ibm_watsonx_ai</span> <span class="kn">import</span> <span class="n">APIClient</span>
<span class="kn">from</span> <span class="nn">ibm_watsonx_ai.foundation_models.extensions.rag</span> <span class="kn">import</span> <span class="n">VectorStore</span>

<span class="n">api_client</span> <span class="o">=</span> <span class="n">APIClient</span><span class="p">(</span><span class="n">credentials</span><span class="p">)</span>

<span class="n">vector_store</span> <span class="o">=</span> <span class="n">VectorStore</span><span class="p">(</span>
        <span class="n">api_client</span><span class="p">,</span>
        <span class="n">index_name</span><span class="o">=</span><span class="s1">&#39;my_test_index&#39;</span><span class="p">,</span>
        <span class="n">model_id</span><span class="o">=</span><span class="s2">&quot;.elser_model_2_linux-x86_64&quot;</span><span class="p">,</span>
        <span class="n">cloud_id</span><span class="o">=</span><span class="s1">&#39;***&#39;</span><span class="p">,</span>
        <span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;***&#39;</span>
    <span class="p">)</span>

<span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">([</span>
    <span class="p">{</span><span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;document one content&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">:{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span><span class="s1">&#39;ibm.com&#39;</span><span class="p">}}</span>
    <span class="p">{</span><span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;document two content&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">:{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span><span class="s1">&#39;ibm.com&#39;</span><span class="p">}}</span>
<span class="p">])</span>

<span class="n">vector_store</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.add_documents">
<span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.add_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.add_documents" title="Link to this definition">¶</a></dt>
<dd><p>Adds a list of documents to the RAG’s vector store as upsert operation.
IDs are determined by the text content of the document (hash) and redundant duplicates will not be added.</p>
<p>List must contain either strings, dicts with a required field <code class="docutils literal notranslate"><span class="pre">content</span></code> of str type or LangChain <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>list</em><em>[</em><em>str</em><em>] </em><em>| </em><em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>list</em>) – unstructured list of data to be added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of ids</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.add_documents_async">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_documents_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.add_documents_async"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.add_documents_async" title="Link to this definition">¶</a></dt>
<dd><p>Add document to the RAG’s vector store asynchronously.
List must contain either strings, dicts with a required field <code class="docutils literal notranslate"><span class="pre">content</span></code> of str type or LangChain <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>list</em><em>[</em><em>str</em><em>] </em><em>| </em><em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>list</em>) – unstructured list of data to be added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of ids</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.as_langchain_retriever">
<span class="sig-name descname"><span class="pre">as_langchain_retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.as_langchain_retriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.as_langchain_retriever" title="Link to this definition">¶</a></dt>
<dd><p>Creates a LangChain retriever from this vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>LangChain retriever which can be used in LangChain pipelines</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>langchain_core.vectorstores.VectorStoreRetriever</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clears the current collection that is being used by the VectorStore.
Removes all documents with all their metadata and embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.count" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of docs in the current collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>count of all documents in the collection</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete documents with provided ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ids</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – IDs of documents to delete</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Creates <code class="docutils literal notranslate"><span class="pre">VectorStore</span></code> using only a primitive data type dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – dict in schema like <code class="docutils literal notranslate"><span class="pre">to_dict()</span></code> method</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>reconstructed VectorStore</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore">VectorStore</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.get_client">
<span class="sig-name descname"><span class="pre">get_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.get_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.get_client" title="Link to this definition">¶</a></dt>
<dd><p>Returns underlying native VectorStore client.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>wrapped VectorStore client</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.search" title="Link to this definition">¶</a></dt>
<dd><p>Searches for most similar documents to the query.</p>
<p>The method is designed as a wrapper for respective LangChain VectorStores’ similarity search methods.
Therefore, additional search parameters passed in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> should be consistent with those methods,
and can be found in the LangChain documentation as they may differ depending on the connection
type: Milvus, Chroma, Elasticsearch etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – text query</p></li>
<li><p><strong>k</strong> (<em>int</em>) – number of documents to retrieve</p></li>
<li><p><strong>include_scores</strong> (<em>bool</em>) – whether similarity scores of found documents should be returned, defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – whether to display a table with found documents, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of found documents</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.set_embeddings">
<span class="sig-name descname"><span class="pre">set_embeddings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding_fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.set_embeddings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.set_embeddings" title="Link to this definition">¶</a></dt>
<dd><p>If possible, sets a default embedding function.
Use types inheirted from <code class="docutils literal notranslate"><span class="pre">BaseEmbeddings</span></code> if you want to make it capable for <code class="docutils literal notranslate"><span class="pre">RAGPattern</span></code> deployment.
Argument <code class="docutils literal notranslate"><span class="pre">embedding_fn</span></code> can be a LangChain embeddings but issues with serialization will occur.</p>
<p><em>Deprecated:</em> Method <cite>set_embeddings</cite> for class <cite>VectorStore</cite> is deprecated, since it may cause issues for ‘langchain &gt;= 0.2.0’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>embedding_fn</strong> (<a class="reference internal" href="fm_embeddings.html#ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings" title="ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings"><em>BaseEmbeddings</em></a>) – embedding function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.to_dict" title="Link to this definition">¶</a></dt>
<dd><p>Serialize <code class="docutils literal notranslate"><span class="pre">VectorStore</span></code> into a dict that allows reconstruction using <code class="docutils literal notranslate"><span class="pre">from_dict</span></code> class method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict for the from_dict initialization</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.window_search">
<span class="sig-name descname"><span class="pre">window_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store.html#VectorStore.window_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.window_search" title="Link to this definition">¶</a></dt>
<dd><p>Similarly to search method, get documents (chunks) that would fit the query.
Each chunk is extended to its adjacent chunks (if exist) from the same origin document.
The adjacent chunks are merged into one chunk while keeping their order,
and intersecting text between them is merged (if exists).
This requires chunks to have “document_id” and “sequence_number” in their metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – question asked by a user</p></li>
<li><p><strong>k</strong> (<em>int</em>) – max number of similar documents</p></li>
<li><p><strong>include_scores</strong> (<em>bool</em><em>, </em><em>optional</em>) – return scores for documents, defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – print formatted response to the output, defaults to False</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – number of adjacent chunks to retrieve before and after the center, according to the sequence_number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of found documents (extended into windows).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="basevectorstore">
<h3>BaseVectorStore<a class="headerlink" href="#basevectorstore" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.</span></span><span class="sig-name descname"><span class="pre">BaseVectorStore</span></span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Base abstract class for all vector store-like classes. Interface that support simple database operations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.add_documents">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.add_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.add_documents" title="Link to this definition">¶</a></dt>
<dd><p>Adds a list of documents to the RAG’s vector store as upsert operation.
IDs are determined by the text content of the document (hash) and redundant duplicates will not be added.</p>
<p>List must contain either strings, dicts with a required field <code class="docutils literal notranslate"><span class="pre">content</span></code> of str type or LangChain <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>list</em><em>[</em><em>str</em><em>] </em><em>| </em><em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>list</em>) – unstructured list of data to be added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of ids</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.add_documents_async">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_documents_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.add_documents_async"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.add_documents_async" title="Link to this definition">¶</a></dt>
<dd><p>Add document to the RAG’s vector store asynchronously.
List must contain either strings, dicts with a required field <code class="docutils literal notranslate"><span class="pre">content</span></code> of str type or LangChain <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>list</em><em>[</em><em>str</em><em>] </em><em>| </em><em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>list</em>) – unstructured list of data to be added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of ids</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.as_langchain_retriever">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">as_langchain_retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.as_langchain_retriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.as_langchain_retriever" title="Link to this definition">¶</a></dt>
<dd><p>Creates a LangChain retriever from this vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>LangChain retriever which can be used in LangChain pipelines</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>langchain_core.vectorstores.VectorStoreRetriever</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.clear">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clears the current collection that is being used by the VectorStore.
Removes all documents with all their metadata and embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.count">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.count" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of docs in the current collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>count of all documents in the collection</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.delete">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete documents with provided ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ids</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – IDs of documents to delete</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.get_client">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.get_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.get_client" title="Link to this definition">¶</a></dt>
<dd><p>Returns underlying native VectorStore client.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>wrapped VectorStore client</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.search">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.search" title="Link to this definition">¶</a></dt>
<dd><p>Get documents that would fit the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – question asked by a user</p></li>
<li><p><strong>k</strong> (<em>int</em>) – max number of similar documents</p></li>
<li><p><strong>include_scores</strong> (<em>bool</em><em>, </em><em>optional</em>) – return scores for documents, defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – print formatted response to the output, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of found documents</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.set_embeddings">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_embeddings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding_fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.set_embeddings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.set_embeddings" title="Link to this definition">¶</a></dt>
<dd><p>If possible, sets a default embedding function.
Use types inheirted from <code class="docutils literal notranslate"><span class="pre">BaseEmbeddings</span></code> if you want to make it capable for <code class="docutils literal notranslate"><span class="pre">RAGPattern</span></code> deployment.
Argument <code class="docutils literal notranslate"><span class="pre">embedding_fn</span></code> can be a LangChain embeddings but issues with serialization will occur.</p>
<p><em>Deprecated:</em> Method <cite>set_embeddings</cite> for class <cite>VectorStore</cite> is deprecated, since it may cause issues for ‘langchain &gt;= 0.2.0’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>embedding_fn</strong> (<a class="reference internal" href="fm_embeddings.html#ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings" title="ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings"><em>BaseEmbeddings</em></a>) – embedding function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.window_search">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">window_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/base_vector_store.html#BaseVectorStore.window_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.window_search" title="Link to this definition">¶</a></dt>
<dd><p>Similarly to search method, get documents (chunks) that would fit the query.
Each chunk is extended to its adjacent chunks (if exist) from the same origin document.
The adjacent chunks are merged into one chunk while keeping their order,
and intersecting text between them is merged (if exists).
This requires chunks to have “document_id” and “sequence_number” in their metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – question asked by a user</p></li>
<li><p><strong>k</strong> (<em>int</em>) – max number of similar documents</p></li>
<li><p><strong>include_scores</strong> (<em>bool</em><em>, </em><em>optional</em>) – return scores for documents, defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – print formatted response to the output, defaults to False</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – number of adjacent chunks to retrieve before and after the center, according to the sequence_number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of found documents (extended into windows).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="vectorstoreconnector">
<h3>VectorStoreConnector<a class="headerlink" href="#vectorstoreconnector" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.</span></span><span class="sig-name descname"><span class="pre">VectorStoreConnector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creates proper vector store client using provided properties.</p>
<p>Properties are arguments to the LangChain VectorStores of desired type.
It also parses properties extracted from Connection assets into one that would fit for initialization.</p>
<p>Custom or Connection asset properties that are parsed include:
- <cite>index_name</cite>
- <cite>distance_metric</cite>
- <cite>username</cite>
- <cite>password</cite>
- <cite>ssl_certificate</cite>
- <cite>embeddings</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>properties</strong> (<em>dict</em>) – dictionary with all required key values to establish connection.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_chroma">
<span class="sig-name descname"><span class="pre">get_chroma</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector.get_chroma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_chroma" title="Link to this definition">¶</a></dt>
<dd><p>Creates Chroma in-memory vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – langchain required</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>vector store adapter for LangChain’s Chroma</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter">LangChainVectorStoreAdapter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_elasticsearch">
<span class="sig-name descname"><span class="pre">get_elasticsearch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector.get_elasticsearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_elasticsearch" title="Link to this definition">¶</a></dt>
<dd><p>Creates Elasticsearch vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – langchain required</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>vector store adapter for LangChain’s Elasticsearch</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter">LangChainVectorStoreAdapter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_from_type">
<span class="sig-name descname"><span class="pre">get_from_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector.get_from_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_from_type" title="Link to this definition">¶</a></dt>
<dd><p>Gets a vector store based on provided type (matching from DataSource names from SDK API).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>type</strong> (<a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType"><em>VectorStoreDataSourceType</em></a>) – DataSource type string from SDK API</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – unsupported type</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>proper BaseVectorStore type constructed from properties</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore">BaseVectorStore</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_langchain_adapter">
<span class="sig-name descname"><span class="pre">get_langchain_adapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">langchain_vector_store</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector.get_langchain_adapter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_langchain_adapter" title="Link to this definition">¶</a></dt>
<dd><p>Creates adapter for concrete vector store from LangChain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>langchain_vector_store</strong> (<em>Any</em>) – object that is subclass of LangChain VectorStore</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ImportError</strong> – LangChain required</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>proper adapter for the vector store</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter">LangChainVectorStoreAdapter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_milvus">
<span class="sig-name descname"><span class="pre">get_milvus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector.get_milvus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_milvus" title="Link to this definition">¶</a></dt>
<dd><p>Creates Milvus vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – langchain required</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>vector store adapter for LangChain’s Milvus</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter">LangChainVectorStoreAdapter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_type_from_langchain_vector_store">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_type_from_langchain_vector_store</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">langchain_vector_store</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreConnector.get_type_from_langchain_vector_store"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_type_from_langchain_vector_store" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">DataSourceType</span></code> for concrete LangChain <code class="docutils literal notranslate"><span class="pre">VectorStore</span></code> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>langchain_vector_store</strong> (<em>Any</em>) – vector store object from LangChain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataSourceType name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType">VectorStoreDataSourceType</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="vectorstoredatasourcetype">
<h3>VectorStoreDataSourceType<a class="headerlink" href="#vectorstoredatasourcetype" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.</span></span><span class="sig-name descname"><span class="pre">VectorStoreDataSourceType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/vector_store_connector.html#VectorStoreDataSourceType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.CHROMA">
<span class="sig-name descname"><span class="pre">CHROMA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'chroma'</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.CHROMA" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.ELASTICSEARCH">
<span class="sig-name descname"><span class="pre">ELASTICSEARCH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'elasticsearch'</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.ELASTICSEARCH" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.MILVUS">
<span class="sig-name descname"><span class="pre">MILVUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'milvus'</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.MILVUS" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.UNDEFINED">
<span class="sig-name descname"><span class="pre">UNDEFINED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'undefined'</span></em><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.UNDEFINED" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="langchainvectorstoreadapter">
<h3>LangChainVectorStoreAdapter<a class="headerlink" href="#langchainvectorstoreadapter" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.</span></span><span class="sig-name descname"><span class="pre">LangChainVectorStoreAdapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector_store</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore" title="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseVectorStore</span></code></a></p>
<p>Adapter for LangChain <code class="docutils literal notranslate"><span class="pre">VectorStore</span></code> base class.
:param vector_store: concrete LangChain vector store object
:type vector_store: langchain_core.vectorstore.VectorStore</p>
<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.add_documents">
<span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.add_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.add_documents" title="Link to this definition">¶</a></dt>
<dd><p>Adds a list of documents to the RAG’s vector store as upsert operation.
IDs are determined by the text content of the document (hash) and redundant duplicates will not be added.</p>
<p>List must contain either strings, dicts with a required field <code class="docutils literal notranslate"><span class="pre">content</span></code> of str type or LangChain <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>list</em><em>[</em><em>str</em><em>] </em><em>| </em><em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>list</em>) – unstructured list of data to be added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of ids</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.add_documents_async">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_documents_async</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.add_documents_async"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.add_documents_async" title="Link to this definition">¶</a></dt>
<dd><p>Add document to the RAG’s vector store asynchronously.
List must contain either strings, dicts with a required field <code class="docutils literal notranslate"><span class="pre">content</span></code> of str type or LangChain <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>list</em><em>[</em><em>str</em><em>] </em><em>| </em><em>list</em><em>[</em><em>dict</em><em>] </em><em>| </em><em>list</em>) – unstructured list of data to be added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of ids</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.as_langchain_retriever">
<span class="sig-name descname"><span class="pre">as_langchain_retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.as_langchain_retriever"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.as_langchain_retriever" title="Link to this definition">¶</a></dt>
<dd><p>Creates a LangChain retriever from this vector store.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>LangChain retriever which can be used in LangChain pipelines</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>langchain_core.vectorstores.VectorStoreRetriever</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.clear" title="Link to this definition">¶</a></dt>
<dd><p>Clears the current collection that is being used by the VectorStore.
Removes all documents with all their metadata and embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.count">
<span class="sig-name descname"><span class="pre">count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.count" title="Link to this definition">¶</a></dt>
<dd><p>Return the number of docs in the current collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>count of all documents in the collection</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete documents with provided ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ids</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – IDs of documents to delete</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.get_client">
<span class="sig-name descname"><span class="pre">get_client</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.get_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.get_client" title="Link to this definition">¶</a></dt>
<dd><p>Returns underlying native VectorStore client.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>wrapped VectorStore client</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.search" title="Link to this definition">¶</a></dt>
<dd><p>Get documents that would fit the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – question asked by a user</p></li>
<li><p><strong>k</strong> (<em>int</em>) – max number of similar documents</p></li>
<li><p><strong>include_scores</strong> (<em>bool</em><em>, </em><em>optional</em>) – return scores for documents, defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – print formatted response to the output, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of found documents</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.set_embeddings">
<span class="sig-name descname"><span class="pre">set_embeddings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding_fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.set_embeddings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.set_embeddings" title="Link to this definition">¶</a></dt>
<dd><p>If possible, sets a default embedding function.
Use types inheirted from <code class="docutils literal notranslate"><span class="pre">BaseEmbeddings</span></code> if you want to make it capable for <code class="docutils literal notranslate"><span class="pre">RAGPattern</span></code> deployment.
Argument <code class="docutils literal notranslate"><span class="pre">embedding_fn</span></code> can be a LangChain embeddings but issues with serialization will occur.</p>
<p><em>Deprecated:</em> Method <cite>set_embeddings</cite> for class <cite>VectorStore</cite> is deprecated, since it may cause issues for ‘langchain &gt;= 0.2.0’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>embedding_fn</strong> (<a class="reference internal" href="fm_embeddings.html#ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings" title="ibm_watsonx_ai.foundation_models.embeddings.base_embeddings.BaseEmbeddings"><em>BaseEmbeddings</em></a>) – embedding function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.window_search">
<span class="sig-name descname"><span class="pre">window_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_scores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ibm_watsonx_ai/foundation_models/extensions/rag/vector_stores/langchain_vector_store_adapter.html#LangChainVectorStoreAdapter.window_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.window_search" title="Link to this definition">¶</a></dt>
<dd><p>Similarly to search method, get documents (chunks) that would fit the query.
Each chunk is extended to its adjacent chunks (if exist) from the same origin document.
The adjacent chunks are merged into one chunk while keeping their order,
and intersecting text between them is merged (if exists).
This requires chunks to have “document_id” and “sequence_number” in their metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – question asked by a user</p></li>
<li><p><strong>k</strong> (<em>int</em>) – max number of similar documents</p></li>
<li><p><strong>include_scores</strong> (<em>bool</em><em>, </em><em>optional</em>) – return scores for documents, defaults to False</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – print formatted response to the output, defaults to False</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – number of adjacent chunks to retrieve before and after the center, according to the sequence_number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of found documents (extended into windows).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="fm_helpers.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Helpers</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="fm_extensions_langchain.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">LangChain</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2024, IBM
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">RAG</a><ul>
<li><a class="reference internal" href="#chunkers">Chunkers</a><ul>
<li><a class="reference internal" href="#langchainchunker">LangChainChunker</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker"><code class="docutils literal notranslate"><span class="pre">LangChainChunker</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.from_dict"><code class="docutils literal notranslate"><span class="pre">LangChainChunker.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.split_documents"><code class="docutils literal notranslate"><span class="pre">LangChainChunker.split_documents()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.supported_methods"><code class="docutils literal notranslate"><span class="pre">LangChainChunker.supported_methods</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.langchain_chunker.LangChainChunker.to_dict"><code class="docutils literal notranslate"><span class="pre">LangChainChunker.to_dict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#basechunker">BaseChunker</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker"><code class="docutils literal notranslate"><span class="pre">BaseChunker</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.from_dict"><code class="docutils literal notranslate"><span class="pre">BaseChunker.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.split_documents"><code class="docutils literal notranslate"><span class="pre">BaseChunker.split_documents()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.chunker.base_chunker.BaseChunker.to_dict"><code class="docutils literal notranslate"><span class="pre">BaseChunker.to_dict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#retrievers">Retrievers</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever"><code class="docutils literal notranslate"><span class="pre">Retriever</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.from_vector_store"><code class="docutils literal notranslate"><span class="pre">Retriever.from_vector_store()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.retrieve"><code class="docutils literal notranslate"><span class="pre">Retriever.retrieve()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.Retriever.to_dict"><code class="docutils literal notranslate"><span class="pre">Retriever.to_dict()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod"><code class="docutils literal notranslate"><span class="pre">RetrievalMethod</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod.SIMPLE"><code class="docutils literal notranslate"><span class="pre">RetrievalMethod.SIMPLE</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.RetrievalMethod.WINDOW"><code class="docutils literal notranslate"><span class="pre">RetrievalMethod.WINDOW</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever"><code class="docutils literal notranslate"><span class="pre">BaseRetriever</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.from_vector_store"><code class="docutils literal notranslate"><span class="pre">BaseRetriever.from_vector_store()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.retrieve"><code class="docutils literal notranslate"><span class="pre">BaseRetriever.retrieve()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.retriever.retriever.BaseRetriever.to_dict"><code class="docutils literal notranslate"><span class="pre">BaseRetriever.to_dict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#vector-stores">Vector Stores</a><ul>
<li><a class="reference internal" href="#vectorstore">VectorStore</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore"><code class="docutils literal notranslate"><span class="pre">VectorStore</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.add_documents"><code class="docutils literal notranslate"><span class="pre">VectorStore.add_documents()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.add_documents_async"><code class="docutils literal notranslate"><span class="pre">VectorStore.add_documents_async()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.as_langchain_retriever"><code class="docutils literal notranslate"><span class="pre">VectorStore.as_langchain_retriever()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.clear"><code class="docutils literal notranslate"><span class="pre">VectorStore.clear()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.count"><code class="docutils literal notranslate"><span class="pre">VectorStore.count()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.delete"><code class="docutils literal notranslate"><span class="pre">VectorStore.delete()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.from_dict"><code class="docutils literal notranslate"><span class="pre">VectorStore.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.get_client"><code class="docutils literal notranslate"><span class="pre">VectorStore.get_client()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.search"><code class="docutils literal notranslate"><span class="pre">VectorStore.search()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.set_embeddings"><code class="docutils literal notranslate"><span class="pre">VectorStore.set_embeddings()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.to_dict"><code class="docutils literal notranslate"><span class="pre">VectorStore.to_dict()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store.VectorStore.window_search"><code class="docutils literal notranslate"><span class="pre">VectorStore.window_search()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#basevectorstore">BaseVectorStore</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.add_documents"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.add_documents()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.add_documents_async"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.add_documents_async()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.as_langchain_retriever"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.as_langchain_retriever()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.clear"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.clear()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.count"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.count()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.delete"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.delete()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.get_client"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.get_client()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.search"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.search()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.set_embeddings"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.set_embeddings()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.base_vector_store.BaseVectorStore.window_search"><code class="docutils literal notranslate"><span class="pre">BaseVectorStore.window_search()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#vectorstoreconnector">VectorStoreConnector</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_chroma"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector.get_chroma()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_elasticsearch"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector.get_elasticsearch()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_from_type"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector.get_from_type()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_langchain_adapter"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector.get_langchain_adapter()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_milvus"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector.get_milvus()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreConnector.get_type_from_langchain_vector_store"><code class="docutils literal notranslate"><span class="pre">VectorStoreConnector.get_type_from_langchain_vector_store()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#vectorstoredatasourcetype">VectorStoreDataSourceType</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType"><code class="docutils literal notranslate"><span class="pre">VectorStoreDataSourceType</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.CHROMA"><code class="docutils literal notranslate"><span class="pre">VectorStoreDataSourceType.CHROMA</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.ELASTICSEARCH"><code class="docutils literal notranslate"><span class="pre">VectorStoreDataSourceType.ELASTICSEARCH</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.MILVUS"><code class="docutils literal notranslate"><span class="pre">VectorStoreDataSourceType.MILVUS</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.vector_store_connector.VectorStoreDataSourceType.UNDEFINED"><code class="docutils literal notranslate"><span class="pre">VectorStoreDataSourceType.UNDEFINED</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#langchainvectorstoreadapter">LangChainVectorStoreAdapter</a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter</span></code></a><ul>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.add_documents"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.add_documents()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.add_documents_async"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.add_documents_async()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.as_langchain_retriever"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.as_langchain_retriever()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.clear"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.clear()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.count"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.count()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.delete"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.delete()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.get_client"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.get_client()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.search"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.search()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.set_embeddings"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.set_embeddings()</span></code></a></li>
<li><a class="reference internal" href="#ibm_watsonx_ai.foundation_models.extensions.rag.vector_stores.langchain_vector_store_adapter.LangChainVectorStoreAdapter.window_search"><code class="docutils literal notranslate"><span class="pre">LangChainVectorStoreAdapter.window_search()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>