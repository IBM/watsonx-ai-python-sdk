IBM watsonx.ai for IBM Cloud
============================

Requirements
------------
Starting work with IBM watsonx.ai for IBM Cloud refer to `Getting started <https://dataplatform.cloud.ibm.com/docs/content/wsj/getting-started/get-started-wdp.html?audience=wdp&context=wx>`__ section in main product documentation.

Supported machine learning frameworks
-------------------------------------
For the list of supported machine learning frameworks (models) on IBM watsonx.ai for IBM Cloud, refer to
`watsonx.ai Documentation <https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/pm_service_supported_frameworks.html?context=wx&audience=wdp&locale=en>`__.

Authentication
--------------
To use watsonx.ai APIs, create an instance of APIClient with authentication details.

**Note:** Depending on the region of your provisioned service instance, use one of the following as your url:

    * Dallas: `https://us-south.ml.cloud.ibm.com`
    * London: `https://eu-gb.ml.cloud.ibm.com`
    * Frankfurt: `https://eu-de.ml.cloud.ibm.com`
    * Tokyo: `https://jp-tok.ml.cloud.ibm.com`

**Note:** To determine `api_key` go to https://cloud.ibm.com/iam/apikeys and generate your api key.

Example of creating the client using api key:

.. code-block:: python

   from ibm_watsonx_ai import APIClient
   from ibm_watsonx_ai import Credentials

   credentials = Credentials(
                      url = "https://us-south.ml.cloud.ibm.com",
                      api_key = "***********"
                     )

   client = APIClient(credentials)




Example of creating the client using token:

.. code-block:: python

   from ibm_watsonx_ai import APIClient
   from ibm_watsonx_ai import Credentials

   credentials = Credentials(
                      url = "https://us-south.ml.cloud.ibm.com",
                      token = "***********",
                     )

   client = APIClient(credentials)

**Note:** Setting default space/project id is mandatory. For details, refer to ``client.set.default_space()`` API in this document.

.. hint::
    You can copy the project_id from Project's Manage tab (Project -> Manage -> General -> Details).

Firewall settings
-----------------
Although above setup is sufficient for most environments, environment behind a firewall may need additional adjustment.
There are few endpoints used by ``ibm-watsonx-ai``, which need to be whitelisted to ensure correct functioning of the module:

.. code-block::

    https://jp-tok.ml.cloud.ibm.com
    https://eu-gb.ml.cloud.ibm.com
    https://eu-de.ml.cloud.ibm.com
    https://us-south.ml.cloud.ibm.com

    https://api.jp-tok.dataplatform.cloud.ibm.com
    https://api.eu-gb.dataplatform.cloud.ibm.com
    https://api.eu-de.dataplatform.cloud.ibm.com
    https://api.dataplatform.cloud.ibm.com
    https://api.jp-tok.dataplatform.cloud.ibm.com

    https://iam.cloud.ibm.com